<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>openshift</title>
      <link rel='stylesheet' href='/bootstrap/dist/css/bootstrap.css' />
      <style>
         .container{
            margin-top: 50px;
         }         
      </style>
   </head>
   <body>
     <div class="container">
        <div class="row">
          <div class="col-sm-4 col-md-4">
            <div class="panel panel-default">
                <div class="panel-body">                
                    <form enctype="multipart/form-data" action="" method="POST">
                      <label><h2>Message</h2></label>
                        <textarea class="form-control counted" 
                          id="message" 
                          name="message" 
                          placeholder="Type in your message" 
                          rows="5" 
                          style="margin-bottom:10px;"></textarea>
                        <h6 class="pull-right" id="counter">320 characters limit</h6>
                        <button class="btn btn-info" 
                          id="submit-btn" 
                          type="button">Post New Message
                        </button>
                    </form>
                </div>
            </div>
          </div>
        </div>
      </div>      
      <script src="/jquery/dist/jquery.js"></script>
      <script src="/bootstrap/dist/js/bootstrap.min.js"></script>
      <script>
         $(document).ready(function(){
            $('#submit-btn').click(function() {                              
               const message = $("#message").val();
               $.post("/message", { message:message }, (data, status) => {
                 if (status === 'success')
                   alert(`message sending success\n${data}`);
                 else
                   alert("message failed denied");
               });
            });
          });         

      </script>
   </body>
</html>

